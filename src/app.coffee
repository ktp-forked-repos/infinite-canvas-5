require './index'

###*
 # # Quickstart Application
###
class MainApplication

  constructor: ->
    $(document).ready ->
      angular.bootstrap document, ['quickstartApp'],
        strictDi: true

  run: -> ['$rootScope', '$state', '$httpBackend', ( $rootScope, $state, $httpBackend ) ->
    $rootScope.$state = $state
    
    $rootScope.$on '$stateChangeStart', (event, toState, toParams, fromState, fromParams) =>
      # console.log(event, toState, toParams, fromState, fromParams) 
    $rootScope.$on '$stateChangeError', (event, toState, toParams, fromState, fromParams, error) ->
      console.error(event, toState, toParams, fromState, fromParams) 
    
    # $httpBackend.whenGET(/api\/spot/).respond (method, url, data, headers) ->
    #   params = url.split('?')[1].split('&')
    #   [200,{
    #     # drawingDataUrl: "data:image/jpeg;base64,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"
    #     x: parseInt(params[0].substring 5)
    #     y: parseInt(params[1].substring 5)
    #   },{}]
  ]

  config: -> [ '$urlRouterProvider', '$provide', ($urlRouterProvider, $provide) ->
    
    $urlRouterProvider
      .otherwise '/'
    $provide.decorator '$exceptionHandler', [ '$delegate', ($delegate) ->
      (exception, cause) ->
        $delegate exception, cause
        errorData =
          exception: exception,
          cause: cause
        #### @TODO PROVIDE PROPPER HANDLING AND LOGGING
        console.error '$exceptionHandler::ERROR:', exception.msg, errorData
    ]
  ]

app = new MainApplication()

angular
  .module('quickstartApp',['application']).config( app.config() ).run app.run()

